exports.ids=[3],exports.modules={78:function(t,e,n){"use strict";n.r(e);var r={data:()=>({list_link:[],origins:[],origin:"Phân Loại",search:"",page:1,range_time:"",start:0,end:0}),created:async function(){await this.refresh()},computed:{pagination(){return(this.origins.find(({origin:t})=>"all"===t)||{num:0}).num},condition(){let t={};return"Phân Loại"!==this.origin&&(t.origin={contains:this.origin}),this.search.length>0&&(t.html={contains:this.search}),this.start&&this.end&&(t.createdAt={">":this.start,"<":this.end}),t}},methods:{async refresh(){await Promise.all[(this.load_data(),this.count())]},customize_origin:t=>(t=t.replace("https://","").replace("http","").replace("www.","")).length>25?t.slice(0,25)+"...":t,async load_data(){let{data:data}=await this.$axios.get("http://localhost/api/save?limit=8&select=origin,url,createdAt&skip="+8*(this.page-1),{params:{where:this.condition}});this.list_link=data},async count(){let{data:data}=await this.$axios.get("http://localhost/api/save/count",{params:{condition:JSON.stringify(this.condition)}});this.origins=data},async move_tag(t){this.page=t,await this.refresh()},async remove(t){let{data:data}=await this.$axios.delete("http://localhost/api/save/"+t.id);this.list_link=this.list_link.filter(t=>t.id!==data.id),this.$message({message:"Đã xóa "+t.url.slice(0,40)+" ...",type:"warning"})},async select_origin(t){this.origin=this.customize_origin(t),await this.refresh()},timeConverter(t){var a=new Date(t),e=a.getFullYear(),n=a.getMonth();return a.getDate()+" / "+n+" / "+e+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()},async change_range_time(time){if(time){let t=new Date(time[0]);this.start=t.getTime();let e=new Date(time[1]);this.end=e.getTime()}else this.start=0,this.end=0;return await this.refresh()}}},o=n(3);var component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-row",[n("el-col",{attrs:{span:12,offset:0}},[n("small",[t._v("Range time : ")]),t._v(" "),n("el-date-picker",{attrs:{size:"mini",type:"datetimerange","start-placeholder":"Bắt Đầu","end-placeholder":"Kết Thúc","default-time":["00:00:00","23:59:59"]},on:{change:t.change_range_time},model:{value:t.range_time,callback:function(e){t.range_time=e},expression:"range_time"}})],1),t._v(" "),n("el-col",{attrs:{align:"right",span:12}},[n("el-col",{attrs:{span:7,offset:2}},[n("el-dropdown",{staticStyle:{float:"right","margin-right":"10px"},attrs:{placement:"bottom-end",size:"mini",trigger:"click","split-button":!0,"hide-on-click":!1},on:{command:t.select_origin}},[n("span",[t._v("\n\t\t\t\t\t\t"+t._s(t.origin)+"\n\t\t\t\t\t")]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t._l(t.origins.length>0?t.origins.filter((function(t){return"all"!==t.origin})):[],(function(data,e){return n("el-dropdown-item",{key:e,attrs:{icon:"",command:data.origin,divided:!1,disabled:!1}},[t._v(t._s(data.origin))])})),t._v(" "),n("el-dropdown-item",{attrs:{align:"center",command:"Phân Loại",divided:!1,disabled:!1}},[t._v("All")])],2)],1)],1),t._v(" "),n("el-col",{attrs:{span:13}},[n("el-input",{attrs:{placeholder:"Nhập nội dung tìm kiếm",size:"mini",clearable:"",type:"text",autosize:!1,disabled:!1,autocomplete:"off"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.refresh(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[n("el-button",{attrs:{slot:"append",type:"primary",icon:"el-icon-search",loading:!1,plain:!1,round:!1,circle:!1,autofocus:!1,size:"mini",disabled:!1},on:{click:t.refresh},slot:"append"},[t._v("Search")])],1)],1)],1)],1),t._ssrNode(" "),n("el-divider",{attrs:{direction:"horizontal"}}),t._ssrNode(" "),n("el-row",[n("el-col",{attrs:{span:24,offset:0}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list_link,height:"500",border:!1,"highlight-current-row":!1,stripe:!1,lazy:!1,"show-summary":!1,"tooltip-effect":"light"}},[n("el-table-column",{attrs:{label:"Thời gian",align:"left",sortable:!1,fixed:!1,width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t"+t._s(t.timeConverter(e.row.createdAt))+"\n\t\t\t\t\t")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"URL",prop:"url",align:"left",sortable:!1,fixed:!1,width:"360"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{target:"_blank",href:e.row.url,icon:"",type:"primary",underline:!0,disabled:!1}},[t._v(t._s(e.row.url.slice(0,45)+"..."))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"Origin",prop:"origin",align:"left",sortable:!1,fixed:!1,width:"180"}}),t._v(" "),n("el-table-column",{attrs:{label:"Xem",prop:"origin",align:"center",sortable:!1,fixed:!1,width:"120"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("el-link",{attrs:{target:"_blank",href:"/api/save/view?id="+t.row.id,icon:"el-icon-view",type:"primary",underline:!0,disabled:!1}})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"Download",prop:"origin",align:"center",sortable:!1,fixed:!1,width:"120"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("el-link",{attrs:{target:"_blank",href:"/api/save/download?id="+t.row.id,icon:"el-icon-download",type:"primary",underline:!0,disabled:!1}})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"",prop:"origin",align:"center",sortable:!1,fixed:!1,width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-popconfirm",{attrs:{title:"Bạn có chắc chắn?",confirmButtonText:"OK",cancelButtonText:"Không,cảm ơn.",icon:"el-icon-info",iconColor:"red"},on:{onConfirm:function(n){return t.remove(e.row)}}},[n("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete-solid",loading:!1,plain:!1,round:!1,circle:!1,autofocus:!1,size:"mini",disabled:!1},slot:"reference"})],1)]}}])})],1)],1)],1),t._ssrNode(" <br data-v-31e91a64> "),n("el-row",[n("el-col",{attrs:{span:24,offset:0}},[n("el-pagination",{attrs:{total:t.pagination,"pager-count":9,"hide-on-single-page":!0,background:"",layout:"prev, pager, next"},on:{"current-change":t.move_tag}})],1)],1)],2)}),[],!1,(function(t){}),"31e91a64","ada67822");e.default=component.exports}};